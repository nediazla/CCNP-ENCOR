# **Capítulo 28 – Foundational Network Programmability Concepts**

La red empresarial está evolucionando de configuraciones manuales a un modelo **API-driven**, donde el estado de la red se gestiona mediante **modelos de datos**, **controladores SDN**, **automatización**, **telemetría** y **policy-based networking**.

Este capítulo cubre:

- Principios de automation & SDN
    
- Modelos de control plane tradicionales vs SDN
    
- APIs REST, NETCONF, RESTCONF
    
- Modelos YANG
    
- Telemetría
    
- Herramientas de automatización (Python, Ansible)
    
- Controladores Cisco (DNA Center, SD-WAN, Meraki, ACI)
    

---

# **1. SDN (Software-Defined Networking): concepto base**

SDN separa los planos:

- **Control Plane** – inteligencia (rutas, políticas)
    
- **Data Plane** – reenvío de paquetes
    
- **Management Plane** – configuraciones y monitoreo
    

El controlador SDN centraliza el control-plane.

Tres modelos:

### **1.1 SDN Centralized Control**

El controlador decide rutas (OpenFlow, ACI).  
Ejemplo: Cisco ACI APIC.

### **1.2 SDN Distributed Control**

Control-plane permanece en dispositivos.  
Automatización se hace vía APIs.  
Ejemplo: DNA Center / SD-WAN.

### **1.3 Hybrid SDN**

Combinación de centralizado y distribuido.

---

# **2. API: interfaz para automatizar dispositivos**

APIs permiten:

- Configurar
    
- Obtener estado
    
- Automatizar workflows
    
- Integrar herramientas externas
    

Tipos clave:

- **REST APIs** (JSON/HTTP)
    
- **NETCONF/YANG**
    
- **RESTCONF**
    
- **gRPC/gNMI** (telemetría moderna)
    

---

# **3. REST APIs (Representational State Transfer)**

Usan:

- HTTP verbs (GET, POST, PUT, PATCH, DELETE)
    
- JSON como formato usual
    
- Stateless
    

Ejemplo:

```
GET https://router/api/v1/interfaces
```

Ventajas:

- Simples
    
- Amplio soporte en herramientas y lenguajes
    

Cisco lo usa en:

- DNA Center Intent API
    
- Meraki Dashboard API
    
- Webex APIs
    
- IOS-XE RESTCONF
    

---

# **4. NETCONF**

Protocolo estandarizado para configurar dispositivos de red.

### Características:

- Usa **SSH**
    
- Opera mediante **RPC (remote procedure calls)**
    
- Usa **XML** como formato
    
- Define operaciones como:
    
```
- <get>
- <get-config>
- <edit-config>
- <lock> / <unlock>
```

Ejemplo NETCONF RPC:

```
<rpc>
  <get>
    <filter type="subtree">
      <interfaces/>
    </filter>
  </get>
</rpc>
```
---

# **5. RESTCONF**

RESTCONF = REST + YANG  
Modelo moderno y simple para acceder a configuraciones basadas en YANG.

### Usos:

- Automatización ligera
    
- Equipo multivendor
    
- Integraciones cloud/DevOps
    

Ejemplo:

```
GET /restconf/data/ietf-interfaces:interfaces/interface
```

---

# **6. YANG: el lenguaje de modelado**

YANG define **la estructura de datos** de configuraciones y estados.

Características:

- Unified model for NETCONF/RESTCONF
    
- Esquemas bien definidos
    
- Validación automática
    
- Compatible con modelos Cisco-native y OpenConfig
    

Ejemplo YANG:

```
container interfaces {
  list interface {
    key "name";
    leaf name { type string; }
    leaf enabled { type boolean; }
  }
}
```

---

# **7. Modelos de datos**

Dos grandes familias:

### **7.1 Native Models (Cisco)**

Específicos de plataforma y sistema operativo:

- Cisco IOS-XE YANG models
    
- Nexus NX-OS YANG models
    
- ASA models
    

### **7.2 OpenConfig Models**

Multivendor:

- Estandarizados
    
- Modelo preferido en grandes empresas
    
- Útil en SDN multi-vendor
    

Ejemplo:

```
openconfig-interfaces
openconfig-bgp
openconfig-vlan
```

---

# **8. Representación de datos: JSON, XML, YAML**

Se usan para transportar estructuras entre sistemas.

### **JSON**

- Ligero
    
- Muy usado con REST
    
- Fácil en Python
    

### **XML**

- Verbo y estructurado
    
- Usado en NETCONF
    

### **YAML**

- Ideal para Ansible
    
- Más legible
    
- No requiere llaves/corchetes
    

---

# **9. Automatización con Python**

Python es el lenguaje estándar en automatización Cisco.

Bibliotecas clave:

- **Paramiko** (SSH automatizado)
    
- **Netmiko** (Cisco-friendly SSH)
    
- **NAPALM** (Unified API multivendor)
    
- **REST libraries** (requests)
    
- **ncclient** (NETCONF)
    

Ejemplo simple:

```
import requests
r = requests.get("https://router/rest/interface")
print(r.json())
```

---

# **10. Ansible**

Automatización sin agentes basada en:

- YAML playbooks
    
- Conexiones SSH / NETCONF
    
- Idempotencia
    
- Multivendor
    

Playbook simple:

```
- hosts: routers
  tasks:
    - name: Configure hostname
      ios_config:
        lines:
          - hostname R1
```

---

# **11. Cisco SDN Controllers**

## **11.1 Cisco DNA Center**

- Intent-Based Networking
    
- APIs para automatización
    
- Telemetría en streaming
    
- Assurance
    
- Control centralizado del campus
    

## **11.2 Cisco SD-WAN (vManage/vSmart/vBond)**

- Zero Touch Provisioning
    
- Control centralizado
    
- Policies automatizadas
    
- APIs REST
    

## **11.3 Cisco ACI (APIC Controller)**

- SDN para Data Centers
    
- Modelo centralizado
    
- Usa policy-based networking
    
- VXLAN/EVPN fabric
    
- API-first design
    

---

# **12. Telemetría moderna**

### **Pull-based (tradicional)**

- SNMP → lento e incompleto
    

### **Push-based (moderno)**

- gRPC/gNMI
    
- NETCONF notifications
    
- Streaming telemetry
    

Beneficios:

- Baja latencia
    
- Datos en tiempo real
    
- Integración con analytics y ML
    

---

# **13. DevOps + CI/CD + Infrastructure as Code (IaC)**

Principios aplicados a redes:

- Version control (Git)
    
- Pipelines automatizados
    
- Testing automatizado
    
- Despliegue reproducible
    
- Rollback fácil
    

Herramientas:

- GitLab CI
    
- Jenkins
    
- Terraform
    
- Ansible
    
- Python scripts integrados
    
